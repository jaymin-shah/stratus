!function(root,factory){"function"==typeof define&&define.amd?define(["stratus","lodash","angular"],factory):factory(root.Stratus,root._,root.angular)}(this,(function(Stratus,_,angular){Stratus.Directives.Validate=function($parse){return{restrict:"A",require:"ngModel",scope:{validateValid:"=validateValid",validateInvalid:"=validateInvalid",validateComparison:"=validateComparison"},link:function($scope,$element,$attrs,$ctrl){Stratus.Instances[_.uniqueId("validate_")]=$scope,$ctrl.$parsers.push((function(ngModelValue){return $scope.checks={},$attrs.validateComparison&&($scope.checks.validateComparison=!$scope.validateComparison),$scope.validateInvalid?$scope.checks.validateInvalid=!_.contains(_.isArray($scope.validateInvalid)?$scope.validateInvalid:[$scope.validateInvalid],ngModelValue):$scope.validateValid&&($scope.checks.validateValid=_.contains(_.isArray($scope.validateValid)?$scope.validateValid:[$scope.validateValid],ngModelValue)),_.each($scope.checks,(function(el,key){$ctrl&&$ctrl.$setValidity&&$ctrl.$setValidity(key,el)})),$ctrl&&$ctrl.$setValidity&&$ctrl.$setValidity("validateAny",_.every($scope.checks)),ngModelValue}))}}}}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjAiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJkZWZpbmUiLCJhbWQiLCJTdHJhdHVzIiwiXyIsImFuZ3VsYXIiLCJ0aGlzIiwiRGlyZWN0aXZlcyIsIlZhbGlkYXRlIiwiJHBhcnNlIiwicmVzdHJpY3QiLCJyZXF1aXJlIiwic2NvcGUiLCJ2YWxpZGF0ZVZhbGlkIiwidmFsaWRhdGVJbnZhbGlkIiwidmFsaWRhdGVDb21wYXJpc29uIiwibGluayIsIiRzY29wZSIsIiRlbGVtZW50IiwiJGF0dHJzIiwiJGN0cmwiLCJJbnN0YW5jZXMiLCJ1bmlxdWVJZCIsIiRwYXJzZXJzIiwicHVzaCIsIm5nTW9kZWxWYWx1ZSIsImNoZWNrcyIsImNvbnRhaW5zIiwiaXNBcnJheSIsImVhY2giLCJlbCIsImtleSIsIiRzZXRWYWxpZGl0eSIsImV2ZXJ5Il0sIm1hcHBpbmdzIjoiQ0FrQ0EsU0FBV0EsS0FBTUMsU0FDTyxtQkFBWEMsUUFBeUJBLE9BQU9DLElBQ3pDRCxPQUFPLENBQUMsVUFBVyxTQUFVLFdBQVlELFNBRXpDQSxRQUFRRCxLQUFLSSxRQUFTSixLQUFLSyxFQUFHTCxLQUFLTSxTQUp2QyxDQU1HQyxNQUFNLFNBQVVILFFBQVNDLEVBQUdDLFNBQzdCRixRQUFRSSxXQUFXQyxTQUFXLFNBQVVDLFFBQ3RDLE1BQU8sQ0FDTEMsU0FBVSxJQUNWQyxRQUFTLFVBQ1RDLE1BQU8sQ0FDTEMsY0FBZSxpQkFDZkMsZ0JBQWlCLG1CQUNqQkMsbUJBQW9CLHVCQUV0QkMsS0FBTSxTQUFVQyxPQUFRQyxTQUFVQyxPQUFRQyxPQUN4Q2pCLFFBQVFrQixVQUFVakIsRUFBRWtCLFNBQVMsY0FBZ0JMLE9BaUM3Q0csTUFBTUcsU0FBU0MsTUEvQmYsU0FBcUJDLGNBNEJuQixPQTNCQVIsT0FBT1MsT0FBUyxHQUtaUCxPQUFPSixxQkFDVEUsT0FBT1MsT0FBT1gsb0JBQXNCRSxPQUFPRixvQkFJekNFLE9BQU9ILGdCQUNURyxPQUFPUyxPQUFPWixpQkFBbUJWLEVBQUV1QixTQUFTdkIsRUFBRXdCLFFBQVFYLE9BQU9ILGlCQUFtQkcsT0FBT0gsZ0JBQWtCLENBQUNHLE9BQU9ILGlCQUFrQlcsY0FDMUhSLE9BQU9KLGdCQUNoQkksT0FBT1MsT0FBT2IsY0FBZ0JULEVBQUV1QixTQUFTdkIsRUFBRXdCLFFBQVFYLE9BQU9KLGVBQWlCSSxPQUFPSixjQUFnQixDQUFDSSxPQUFPSixlQUFnQlksZUFHNUhyQixFQUFFeUIsS0FBS1osT0FBT1MsUUFBUSxTQUFVSSxHQUFJQyxLQUM5QlgsT0FBU0EsTUFBTVksY0FDakJaLE1BQU1ZLGFBQWFELElBQUtELE9BSXhCVixPQUFTQSxNQUFNWSxjQUNqQlosTUFBTVksYUFBYSxjQUFlNUIsRUFBRTZCLE1BQU1oQixPQUFPUyxTQUk1Q0QifQ==