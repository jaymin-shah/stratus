!function(root,factory){"function"==typeof define&&define.amd?define(["stratus","lodash","angular","angular-material"],factory):factory(root.Stratus,root._,root.angular)}(this,(function(Stratus,_,angular){Stratus.Components.Facebook={bindings:{pageId:"@",appId:"@",token:"@"},controller:function($scope,$attrs,$http){this.uid=_.uniqueId(_.camelToSnake("facebook")+"_"),Stratus.Instances[this.uid]=$scope,$scope.elementId=$attrs.elementId||this.uid,$scope.initialized=!1;const facebookPageName="Test Page Name",facebookPageId="enterpagId",relatedContainerOffset=-150,container=document.getElementById("facebookPageContainer"),relatedContainer=document.getElementById("currentMediaContainer");function loadPlugin(){let height=relatedContainer.offsetHeight;height=height>0?height+relatedContainerOffset:height;let width=container.offsetWidth;const content='<div class="fb-page" data-href="https://www.facebook.com/'+facebookPageId+'" data-tabs="timeline" data-width="'+(width=width<500?500:width)+'" data-height="'+(height=height<500?500:height)+'" data-small-header="false" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true"></div><blockquote cite="https://www.facebook.com/'+facebookPageId+'" class="fb-xfbml-parse-ignore"><a href="https://www.facebook.com/'+facebookPageId+'">'+facebookPageName+"</a></blockquote>";for(;container.firstChild;)container.removeChild(container.firstChild);container.innerHTML=content,FB.XFBML.parse()}FB.Event.subscribe("xfbml.render",(function(){!function(){const plugin=document.querySelector(".fb-page");plugin.querySelector("span").style.width="100%";const iframe=plugin.querySelector("iframe");iframe.width="100%",iframe.style.width="100%";const width=container.offsetWidth;if(width>500){const scale=width/500;iframe.style.transform="scale("+scale+")",iframe.style["transform-origin"]="0 0"}}()}));const loadJob=Stratus.Chronos.add(.2,(function(){relatedContainer.offsetHeight>0&&(Stratus.Chronos.disable(loadJob),loadPlugin())}),this);Stratus.Chronos.enable(loadJob),window.onresize=function(){loadPlugin()}}}}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjAiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJkZWZpbmUiLCJhbWQiLCJTdHJhdHVzIiwiXyIsImFuZ3VsYXIiLCJ0aGlzIiwiQ29tcG9uZW50cyIsIkZhY2Vib29rIiwiYmluZGluZ3MiLCJwYWdlSWQiLCJhcHBJZCIsInRva2VuIiwiY29udHJvbGxlciIsIiRzY29wZSIsIiRhdHRycyIsIiRodHRwIiwidWlkIiwidW5pcXVlSWQiLCJjYW1lbFRvU25ha2UiLCJJbnN0YW5jZXMiLCJlbGVtZW50SWQiLCJpbml0aWFsaXplZCIsImZhY2Vib29rUGFnZU5hbWUiLCJmYWNlYm9va1BhZ2VJZCIsInJlbGF0ZWRDb250YWluZXJPZmZzZXQiLCJjb250YWluZXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwicmVsYXRlZENvbnRhaW5lciIsImxvYWRQbHVnaW4iLCJoZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJ3aWR0aCIsIm9mZnNldFdpZHRoIiwiY29udGVudCIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImlubmVySFRNTCIsIkZCIiwiWEZCTUwiLCJwYXJzZSIsIkV2ZW50Iiwic3Vic2NyaWJlIiwicGx1Z2luIiwicXVlcnlTZWxlY3RvciIsInN0eWxlIiwiaWZyYW1lIiwic2NhbGUiLCJ0cmFuc2Zvcm0iLCJyZXNpemVQbHVnaW4iLCJsb2FkSm9iIiwiQ2hyb25vcyIsImFkZCIsImRpc2FibGUiLCJlbmFibGUiLCJ3aW5kb3ciLCJvbnJlc2l6ZSJdLCJtYXBwaW5ncyI6IkNBU0EsU0FBV0EsS0FBTUMsU0FDTyxtQkFBWEMsUUFBeUJBLE9BQU9DLElBQ3pDRCxPQUFPLENBQUMsVUFBVyxTQUFVLFVBQVcsb0JBQXFCRCxTQUU3REEsUUFBUUQsS0FBS0ksUUFBU0osS0FBS0ssRUFBR0wsS0FBS00sU0FKdkMsQ0FNR0MsTUFBTSxTQUFVSCxRQUFTQyxFQUFHQyxTQU83QkYsUUFBUUksV0FBV0MsU0FBVyxDQUM1QkMsU0FBVSxDQUNSQyxPQUFRLElBQ1JDLE1BQU8sSUFDUEMsTUFBTyxLQUVUQyxXQUFZLFNBQVVDLE9BQVFDLE9BQVFDLE9BRXRCVixLQUNSVyxJQUFNYixFQUFFYyxTQUFTZCxFQUFFZSxhQWJoQixZQWFxQyxLQUM5Q2hCLFFBQVFpQixVQUZNZCxLQUVVVyxLQUFPSCxPQUMvQkEsT0FBT08sVUFBWU4sT0FBT00sV0FIWmYsS0FHK0JXLElBQzdDSCxPQUFPUSxhQUFjLEVBRXJCLE1BQU1DLGlCQUFtQixpQkFDbkJDLGVBQWlCLGFBR2pCQyx3QkFBMEIsSUFFMUJDLFVBQVlDLFNBQVNDLGVBSlAseUJBS2RDLGlCQUFtQkYsU0FBU0MsZUFKUCx5QkF5QjNCLFNBQVNFLGFBRVAsSUFBSUMsT0FBU0YsaUJBQWlCRyxhQUM5QkQsT0FBU0EsT0FBUyxFQUFJQSxPQUFTTix1QkFBeUJNLE9BQ3hELElBQUlFLE1BQVFQLFVBQVVRLFlBQ3RCLE1BS01DLFFBQVUsNERBQThEWCxlQUFpQix1Q0FGL0ZTLE1BQVFBLE1BRlMsSUFBQSxJQUVxQkEsT0FFeUcsbUJBSC9JRixPQUFTQSxPQUZTLElBQUEsSUFFd0JBLFFBR2tJLG9LQUFzS1AsZUFBaUIscUVBQXVFQSxlQUFpQixLQUFPRCxpQkFBbUIsb0JBRXJkLEtBQU9HLFVBQVVVLFlBQ2ZWLFVBQVVXLFlBQVlYLFVBQVVVLFlBSWxDVixVQUFVWSxVQUFZSCxRQUV0QkksR0FBR0MsTUFBTUMsUUFJWEYsR0FBR0csTUFBTUMsVUFBVSxnQkFBZ0IsWUExQ25DLFdBRUUsTUFBTUMsT0FBU2pCLFNBQVNrQixjQUFjLFlBQ2hCRCxPQUFPQyxjQUFjLFFBQzdCQyxNQUFNYixNQUFRLE9BQzVCLE1BQU1jLE9BQVNILE9BQU9DLGNBQWMsVUFDcENFLE9BQU9kLE1BQVEsT0FDZmMsT0FBT0QsTUFBTWIsTUFBUSxPQUVyQixNQUNNQSxNQUFRUCxVQUFVUSxZQUV4QixHQUFJRCxNQUhhLElBR0ssQ0FDcEIsTUFBTWUsTUFBUWYsTUFKQyxJQUtmYyxPQUFPRCxNQUFNRyxVQUFZLFNBQVdELE1BQVEsSUFDNUNELE9BQU9ELE1BQU0sb0JBQXNCLE9BNEJyQ0ksTUFLRixNQUFNQyxRQUFVaEQsUUFBUWlELFFBQVFDLElBQUksSUFBSyxXQUVuQ3hCLGlCQUFpQkcsYUFBZSxJQUNsQzdCLFFBQVFpRCxRQUFRRSxRQUFRSCxTQUN4QnJCLGdCQUVEeEIsTUFDSEgsUUFBUWlELFFBQVFHLE9BQU9KLFNBRXZCSyxPQUFPQyxTQUFXLFdBQ2hCM0IifQ==