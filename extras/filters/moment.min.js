!function(root,factory){"function"==typeof define&&define.amd?define(["stratus","underscore","angular","moment","moment-timezone/builds/moment-timezone-with-data"],factory):factory(root.Stratus,root._,root.angular,root.moment)}(this,function(Stratus,_,angular,moment){Stratus.Filters.Moment=function(){return function(input,options){this.unix=!0,this.ago=!0,this.since=!1,this.relative="1w",this.format="MMM Do YYYY, h:mma",angular.isObject(options)&&angular.extend(this,options),this.relative&&"string"==typeof this.relative&&Math.round((new Date).getTime()/1e3)>input+_.seconds(this.relative)&&(this.since=!1);let time=this.unix?moment.unix(input):moment(input);return time=this.tz?time.tz(this.tz):time,this.since?time.fromNow(!this.ago):time.format(this.format)}}});