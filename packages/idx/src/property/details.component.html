<!-- TODO needs a close button for small resolutions -->
<div id="{{elementId}}" data-ng-cloak>
	<div ng-if="model.pending">
		<md-progress-circular md-mode="indeterminate"></md-progress-circular>
	</div>
	<!-- parallax-wrapper disabled, cannot use height altering on the entire widget -->
	<div data-ng-if="model.completed && (model.data.ListingId || model.data.ListingKey)">

		<div class="details-header static-element">
			<h1>
				<span data-ng-bind="::model.data.UnparsedAddress"></span><!--Address not yet available-->
			</h1>
			<h4><span data-ng-bind="::model.data.City"></span></h4>
		</div>

		<div class="gallery-video-container static-element" data-ng-if="model.data.Images && model.data.Images.length > 0">
			<stratus-carousel init-now="model.completed" images="{{::getSlideshowImages()}}"></stratus-carousel>
		</div>
		<div class="gallery-fallback">
			<img data-ng-if="!model.data.Images" data-ng-src="/content/property/stratus/components/images/no-image.jpg">
		</div>


		<div class="about-container details-container static-element">
			<div class="clearfix">
				<div class="details-left">
					<h2>About</h2>

					<ul class="details-specs primary_font">
						<li>
							<span data-ng-bind="::model.data.MlsStatus"></span>
						</li>
						<li data-ng-if="::model.data.BedroomsTotal > 0">
							<span data-ng-bind="::model.data.BedroomsTotal"></span> Beds
							<!-- TODO the following delimiter needs an ng-if -->
							<span>&nbsp;|&nbsp;</span>
							<span data-ng-if="::model.data.BathroomsFull > 0">
                                <span data-ng-bind="::model.data.BathroomsFull"></span>
								<!-- TODO the number of half baths needs to be divided by 2 --><span data-ng-if="::model.data.BathroomsHalf">.<span data-ng-bind="::model.data.BathroomsHalf"></span>
                                </span> Baths
                            </span>
						</li>

						<!-- Temporary list items with no ng-if. Real items below -->
						<li>
							<span data-ng-bind="::model.data.BuildingAreaTotal | number"></span> Square Feet
						</li>
						<li>
							Days on Market: 18
						</li>
						<li>
							Style: Mediterranean
						</li>
						<li>
							Built in 1964
						</li>
						<li>
							Lot: 2.1 Acres
						</li>
						<li>
							With Pool
						</li>
						<li>
							Stories: 1
						</li>
						<li>
							Residential
						</li>
						<li>
							Single-family
						</li>
						<li class="mls-service">
							<span data-ng-bind="getMLSName()"></span>#
							<span data-ng-bind="::model.data.ListingId || model.data.ListingKey"></span>
						</li>

						<!--
                        <li data-ng-if="::model.data.BuildingAreaTotal">
                            <span data-ng-bind="::model.data.BuildingAreaTotal | number"></span> Square Feet
                        </li>
                        <li data-ng-if="::model.data.DaysOnMarket">
                            Days on Market: <span data-ng-bind="::model.data.DaysOnMarket | number"></span>
                        </li>
                        <li data-ng-if="::model.data.YearBuilt">
                            Built in <span data-ng-bind="::model.data.YearBuilt"></span>
                        </li>
                        <li data-ng-if="::model.data.LotSizeArea">
                            Lot: <span data-ng-bind="::model.data.LotSizeArea | number"></span>
                            <span data-ng-if="::model.data.LotSizeUnits">
                                <span data-ng-bind="::model.data.LotSizeUnits"></span>
                            </span>
                        </li>
                        <li data-ng-if="!model.data.LotSizeArea && model.data.LotSizeAcres">
                            Lot: <span data-ng-bind="::model.data.LotSizeAcres"></span> Acres
                        </li>
                        <li data-ng-if="::model.data.PoolPrivateYN">
                            With Pool
                        </li>
                        <li data-ng-if="::model.data.Stories">
                            Stories: <span data-ng-bind="::model.data.Stories"></span>
                        </li>
                        <li data-ng-if="::model.data.PropertyType">
                            <span data-ng-bind="::model.data.PropertyType"></span>
                        </li>
                        <li data-ng-if="::model.data.PropertySubType">
                            <span data-ng-bind="::model.data.PropertySubType"></span>
                        </li>
                        <li class="mls-service" data-ng-if="::model.data.ListingKey">
                            <span data-ng-bind="getMLSName()"></span>#
                            <span data-ng-bind="::model.data.ListingId || model.data.ListingKey"></span>
                        </li>-->
					</ul>

				</div>
				<div class="details-right">
					<div class="list-price font-secondary" data-ng-if="::model.data.ListPrice">Listed at
						$<span data-ng-bind="::model.data.ListPrice | number"></span></div>
					<h3 class="property-title">An exclusive haven destined for modern, indoor-outdoor entertaining</h3>
					<div class="font-body description" data-ng-if="::model.data.PublicRemarks" data-ng-bind="::model.data.PublicRemarks"></div>
					<div class="response-container">
						<a class="vtour btn btn-alt" data-ng-if="::model.data.VirtualTourURLUnbranded || model.data.VirtualTourURLBranded" data-ng-href="{{::model.data.VirtualTourURLUnbranded || model.data.VirtualTourURLBranded}}" target="_blank">VTour</a>
						<a class="download-PDF btn btn-alt" href="">Download PDF</a>
					</div>
				</div>
			</div>
		</div>

		<!-- Temporary Open House -->
		<div class="open-house-container details-container accent_bg_color static-element">
			<div class="open-house">
				<div class="clearfix">
					<div class="details-left">
						<h2>Open</h2>
						<p class="remarks primary_font">
							Please join us for an open showing of this property on the following dates:
						</p>
					</div>
					<div class="details-right">
						<!-- repeat -->
						<div class="open-house-item">
							<div class="month primary_font">
								February
							</div>
							<div data-layout-gt-xs="row" data-layout-align-gt-xs="space-between center">
								<div class="primary_font" data-layout="row" data-layout-align="space-between center">
									<div class="day">8</div>
									<div class="day-weekday-time-agent">
										Saturday @ 11:30pm - 4:30pm <br>with Mads Mikkelson
									</div>
								</div>
								<a class="add-to-calendar btn btn-alt">
									Add to Calendar
								</a>
							</div>
						</div>

						<!-- repeat -->
						<div class="open-house-item">
							<div class="month primary_font">
								February
							</div>
							<div data-layout-gt-xs="row" data-layout-align-gt-xs="space-between center">
								<div class="primary_font" data-layout="row" data-layout-align="space-between center">
									<div class="day">9</div>
									<div class="day-weekday-time-agent">
										Saturday @ 11:30pm - 4:30pm
									</div>
								</div>
								<a class="add-to-calendar btn btn-alt">
									Add to Calendar
								</a>
							</div>
						</div>

					</div>
				</div>
			</div>

			<!-- Real open house
            <div class="details-container open-house-section accent_bg_color" data-ng-if="model.data.OpenHouses && model.data.OpenHouses.length">
                <h2>Open</h2>
                <div class="open-house-container dotted-spaced-sideline">
                    <span class="primary_font" data-ng-if="::model.data.OpenHouses[0].OpenHouseRemarks" data-ng-bind="::model.data.OpenHouses[0].OpenHouseRemarks"></span>
                    <div class="open-house" id="{{'open_house_' + openHouse.OpenHouseId}}" data-ng-repeat="openHouse in model.data.OpenHouses">
                        <span data-ng-bind="::openHouse.OpenHouseStartTime | moment:{unix:false,format:'dddd MMM Do, h:mm a'}"></span>
                        <span data-ng-if="::openHouse.OpenHouseEndTime"> â€”
                                <span data-ng-bind="::openHouse.OpenHouseEndTime | moment:{unix:false,format:'h:mm a'}"></span>
                            </span>
                        <span data-ng-if="::openHouse.ShowingAgentFirstName">
                                with <span data-ng-bind="::openHouse.ShowingAgentFirstName"></span> <span data-ng-bind="::openHouse.ShowingAgentLastName"></span>
                            </span>
                    </div>
                </div>
            </div>-->
		</div>

		<!-- This needs to display the second image in the slideshow or maybe the last image? -->
		<!-- parallax-element disabled, cannot use height altering on the entire widget -->
		<div class="secondary-image-container">
			<!-- TODO data-ng-click="return cms.obj.listtrac.track('lead');"-->
			<!--a data-ng-href="/site/contact?comments={{::getFullAddress(true)}}" target="_blank">Contact</a-->
			<a class="btn btn-alt btn-contact" target="_blank" data-ng-href="/site/contact?comments={{::getFullAddress(true)}}">
				Contact
			</a>
			<div class="image-dimmer"></div>
			<!-- parallax-content disabled, cannot use height altering on the entire widget -->
			<div class="" style="background: url('{{model.data.Images[0].MediaURL}}') no-repeat center center; background-size: cover;">
				<img data-ng-if="model.data.Images && model.data.Images.length > 0" data-ng-src="/content/property/stratus/components/images/stratus-property-shapeholder.png" alt="{{::model.data.UnparsedAddress}}"/>
				<img data-ng-if="!model.data.Images" data-ng-src="/content/property/stratus/components/images/no-image-simple.jpg">
			</div>
		</div>

		<div class="map-location details-container static-element" data-ng-if="::getGoogleMapEmbedUrl() && model.data.UnparsedAddress">
			<h2 class="dotted-spaced-underline">Location</h2>
			<iframe data-ng-src="{{::getGoogleMapEmbedUrl()}}" style="border: 0;height:450px;width:100%;"></iframe>
		</div>
		<!-- TODO: Should only show if it's a personal listing and sitemap or floorplan exist -->
		<div class="schematics details-container static-element">
			<h2>Schematics</h2>
			<!-- TODO: data-layout and data-flex should only exist if both floorplan and siteplan exist -->
			<div class="schematics-container clearfix">
				<div class="schematics-column floorplan">
					<div class="schematics-image floorplan-image">
						<a href="">
							<data-md-tooltip>Click to enlarge</data-md-tooltip>
							<img src="/content/property/stratus/components/images/temporary-floorplan.png" alt="Site Plan"/>
						</a>
					</div>
					<h4>Floorplan</h4>
					<a class="btn-download" href="">
						<data-md-tooltip>Download Floorplan</data-md-tooltip>
					</a>
				</div>
				<div class="schematics-column siteplan">
					<div class="schematics-image siteplan-image">
						<a href="">
							<data-md-tooltip>Click to enlarge</data-md-tooltip>
							<img src="/content/property/stratus/components/images/temporary-siteplan.png" alt="Site Plan"/>
						</a>
					</div>
					<h4>Siteplan</h4>
					<a class="btn-download" href="">
						<data-md-tooltip>Download Siteplan</data-md-tooltip>
					</a>
				</div>
			</div>
		</div>

		<div class="additional-details details-container static-element">
			<h2 class="dotted-spaced-underline">More</h2>
			<!-- TODO Missing quite a number of minor details -->
			<!-- TODO Wishlist, would love to replace sections with Masonry ability https://passy.github.io/angular-masonry/ -->

			<div>
				<div class="detail-sections">
					<ul class="primary_font">
						<li><h4>Size & Style</h4></li>
						<li><strong>Built: </strong>1994</li>
						<li><strong>Stories: </strong>1994</li>
						<li><strong>Building Type: </strong>1994</li>
						<li><strong>Living SqFt: </strong>5270</li>
						<li><strong>Lot Acres: </strong>0.551</li>
						<li><strong>Horse Property: </strong>No</li>

						<li><h4>Materials</h4></li>
						<li><strong>Roof: </strong>Tile</li>
						<li><strong>Flooring: </strong>Marble, Hardwood</li>
						<li><strong>Foundation: </strong>Concrete perimeter and slab</li>

						<li><h4>Utilities</h4></li>
						<li><strong>Cooling: </strong>None</li>
						<li><strong>Heating: </strong>Central Forced Air</li>
						<li><strong>Utilities: </strong>Public Utilities</li>
						<li><strong>Water: </strong>Public</li>
						<li><strong>Sewer Septic: </strong>Public</li>

						<li><h4>Area</h4></li>
						<li><strong>Cross Street: </strong>Privet</li>
						<li><strong>Postal Code: </strong>91234</li>
						<li><strong>Area ID: </strong>451</li>
						<li><strong>Area Text: </strong>Hillsborough Hills, Etc.</li>

						<li><h4>Features</h4></li>
						<li><strong>Kitchen: </strong>
							Dishwasher, Freezer, Garbage Disposal, Hood Over Range, Oven Range - Built-In, Gas,
							Countertop - Granite, Island with Sink, Cooktop - Gas, Wine Refrigerator, Pantry, Oven -
							Double, Trash Compactor, Refrigerator
						</li>
						<li><strong>Dining Room: </strong>Eat in Kitchen, Formal Dining Room</li>
						<li><strong>Family Room: </strong>Kitchen / Family Room Combo, Separate Family Room</li>
						<li><strong>Laundry: </strong>Inside, Washer / Dryer</li>
						<li><strong>Fireplaces: </strong>Master Bedroom, Living Room, Gas Starter, Family Room</li>
						<li><strong>Additional Rooms: </strong>Den / Study / Office</li>
						<li><strong>Security Features: </strong>Security Fence, Secured Garage / Parking</li>
						<li><strong>Amenities Misc: </strong>High Ceiling , Walk-in Closet , Built-in Vacuum, Bay
							Window, Security Gate
						</li>
						<li><strong>Garage Parking Features: </strong>Off-Street Parking, Attached Garage, Gate / Door
							Opener, Enclosed, Electric Gate
						</li>
						<li><strong>Garage Spaces: </strong>3</li>
						<li><strong>Garage Max: </strong>3</li>

						<li><h4>Agent</h4></li>
						<li><strong>Listing Agent: </strong><a href="" target="_blank">Matt Murdock, Murdock Nelson &
							Page</a></li>
						<li><strong>Co-Listing Agent: </strong><a href="" target="_blank">Karen Page, Murdock Nelson &
							Page</a></li>
						<li><strong>Buyer Agent: </strong><a href="" target="_blank">Foggy Nelson, Murdock Nelson &
							Page</a></li>
						<li><strong>Co-Buyer Agent: </strong><a href="" target="_blank">Jessica Jones, Murdock Nelson &
							Page</a></li>
					</ul>
				</div>
			</div>

			<!-- Real Additional Details
            <div class="agent-section">
                <div class="agent underline-top" data-ng-if="getListAgentName()">
                    <strong>Listing Agent: </strong>
                    <span data-ng-bind="::getListAgentName()"></span><span data-ng-if="::model.data.ListOfficeName">, <span data-ng-bind="::model.data.ListOfficeName"></span></span>
                </div>
                <div class="agent dotted-spaced-underline underline-top" data-ng-if="getCoListAgentName()">
                    <strong>Co-Listing Agent: </strong>
                    <span data-ng-bind="::getCoListAgentName()"></span><span data-ng-if="::model.data.CoListOfficeName">, <span data-ng-bind="::model.data.CoListOfficeName"></span></span>
                </div>
                <div class="agent dotted-spaced-underline underline-top" data-ng-if="getBuyerAgentName()">
                    <strong>Buyer Agent: </strong>
                    <span data-ng-bind="::getBuyerAgentName()"></span><span data-ng-if="::model.data.BuyerOfficeName">, <span data-ng-bind="::model.data.BuyerOfficeName"></span></span>
                </div>
                <div class="agent dotted-spaced-underline underline-top" data-ng-if="getCoBuyerAgentName()">
                    <strong>Co-Buyer Agent: </strong>
                    <span data-ng-bind="::getCoBuyerAgentName()"></span><span data-ng-if="::model.data.CoBuyerOfficeName">, <span data-ng-bind="::model.data.CoBuyerOfficeName"></span></span>
                </div>
            </div>
            <div class="detail-sections">
                <stratus-idx-property-details-sub-section ng-model="model"data-ng-repeat="detail in ::minorDetails"section-name="{{::detail.section}}"items="{{::detail.items}}"></stratus-idx-property-details-sub-section>
            </div>-->


		</div>

		<!-- Contact area needs dynamic variables -->
		<div class="contact-container details-container static-element">
			<h2>Contact</h2>
			<p class="primary_font">
				<span class="site-name">Site Name Here</span><span class="phone"><a href="tel://{$HOSTING_VARS->phone}">123.456.7890</a></span><span class="email"><a href="">myemail@mydomain.com</a></span>
			</p>
		</div>

		<div class="disclaimer-container details-container static-element">
			<div class="disclaimer" data-ng-bind-html="::getMLSDisclaimer(true)"></div>
		</div>
	</div>
	<div data-ng-if="model.data.length == 0 || model.error" class="error details-container">
		Sorry, the property you requested could not be found. Perhaps there was an error and trying again will solve the
		problem.
	</div>

</div>
