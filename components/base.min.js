System.register(["lodash","stratus","angular","angular-material","stratus.services.registry","stratus.services.model","stratus.services.collection","@stratusjs/core/conversion"],(function(exports_1,context_1){"use strict";var _,Stratus,conversion_1,min;context_1&&context_1.id;return{setters:[function(_1){_=_1},function(Stratus_1){Stratus=Stratus_1},function(_2){},function(_3){},function(_4){},function(_5){},function(_6){},function(conversion_1_1){conversion_1=conversion_1_1}],execute:function(){min=Stratus.Environment.get("production")?".min":"","base","components",Stratus.Components.Base={transclude:{model:"?stratusBaseModel"},bindings:{elementId:"@",ngModel:"=",property:"@",target:"@",id:"@",manifest:"@",decouple:"@",direct:"@",api:"@",urlRoot:"@",limit:"@",options:"<"},controller($scope,$attrs,Registry,Model,Collection){this.uid=_.uniqueId(conversion_1.camelToSnake("base")+"_"),Stratus.Instances[this.uid]=$scope,$scope.elementId=$attrs.elementId||this.uid,Stratus.Internals.CssLoader(Stratus.BaseUrl+Stratus.BundlePath+"components/base"+min+".css"),$scope.initialized=!1,$scope.property=$attrs.property||null,$scope.data=null,$scope.model=null,$scope.collection=null,$attrs.target&&Registry.fetch($attrs,$scope),$scope.$watch("$ctrl.ngModel",data=>{data instanceof Model&&data!==$scope.model?$scope.model=data:data instanceof Collection&&data!==$scope.collection&&($scope.collection=data)}),$scope.initialize=()=>{$scope.initialized||($scope.model&&($scope.initialized=!0,$scope.model.on("change",()=>{console.log("model changed:",$scope.model.patch)})),$scope.collection&&($scope.initialized=!0,console.log("collection available")))},$scope.$watch("$scope.model.completed",(newVal,oldVal)=>{newVal&&!_.isEqual(newVal,oldVal)&&$scope.initialize()}),$scope.$watch("$scope.collection.completed",(newVal,oldVal)=>{newVal&&!_.isEqual(newVal,oldVal)&&$scope.initialize()}),Stratus.Environment.get("production")||console.log("base","component:",$scope,$attrs)},templateUrl:Stratus.BaseUrl+Stratus.BundlePath+"components/base"+min+".html"}}}}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjAiXSwibmFtZXMiOlsiU3lzdGVtIiwicmVnaXN0ZXIiLCJleHBvcnRzXzEiLCJjb250ZXh0XzEiLCJfIiwiU3RyYXR1cyIsImNvbnZlcnNpb25fMSIsIm1pbiIsImlkIiwic2V0dGVycyIsIl8xIiwiU3RyYXR1c18xIiwiXzIiLCJfMyIsIl80IiwiXzUiLCJfNiIsImNvbnZlcnNpb25fMV8xIiwiZXhlY3V0ZSIsIkVudmlyb25tZW50IiwiZ2V0IiwiQ29tcG9uZW50cyIsIkJhc2UiLCJ0cmFuc2NsdWRlIiwibW9kZWwiLCJiaW5kaW5ncyIsImVsZW1lbnRJZCIsIm5nTW9kZWwiLCJwcm9wZXJ0eSIsInRhcmdldCIsIm1hbmlmZXN0IiwiZGVjb3VwbGUiLCJkaXJlY3QiLCJhcGkiLCJ1cmxSb290IiwibGltaXQiLCJvcHRpb25zIiwiW29iamVjdCBPYmplY3RdIiwiJHNjb3BlIiwiJGF0dHJzIiwiUmVnaXN0cnkiLCJNb2RlbCIsIkNvbGxlY3Rpb24iLCJ0aGlzIiwidWlkIiwidW5pcXVlSWQiLCJjYW1lbFRvU25ha2UiLCJJbnN0YW5jZXMiLCJJbnRlcm5hbHMiLCJDc3NMb2FkZXIiLCJCYXNlVXJsIiwiQnVuZGxlUGF0aCIsImluaXRpYWxpemVkIiwiZGF0YSIsImNvbGxlY3Rpb24iLCJmZXRjaCIsIiR3YXRjaCIsImluaXRpYWxpemUiLCJvbiIsImNvbnNvbGUiLCJsb2ciLCJwYXRjaCIsIm5ld1ZhbCIsIm9sZFZhbCIsImlzRXF1YWwiLCJ0ZW1wbGF0ZVVybCJdLCJtYXBwaW5ncyI6IkFBQUFBLE9BQU9DLFNBQVMsQ0FBQyxTQUFVLFVBQVcsVUFBVyxtQkFBb0IsNEJBQTZCLHlCQUEwQiw4QkFBK0IsK0JBQStCLFNBQVVDLFVBQVdDLFdBQzdNLGFBRUEsSUFBSUMsRUFBR0MsUUFBU0MsYUFBY0MsSUFFWEosV0FBYUEsVUFBVUssR0FFMUMsTUFBTyxDQUNMQyxRQUFTLENBQUMsU0FBVUMsSUFDbEJOLEVBQUlNLElBQ0gsU0FBVUMsV0FDWE4sUUFBVU0sV0FDVCxTQUFVQyxNQUFRLFNBQVVDLE1BQVEsU0FBVUMsTUFBUSxTQUFVQyxNQUFRLFNBQVVDLE1BQVEsU0FBVUMsZ0JBQ3JHWCxhQUFlVyxpQkFFakJDLFFBQVMsV0FDUFgsSUFBTUYsUUFBUWMsWUFBWUMsSUFBSSxjQUFnQixPQUFTLEdBQ2hELE9BQ0ssYUFDWmYsUUFBUWdCLFdBQVdDLEtBQU8sQ0FDeEJDLFdBQVksQ0FDVkMsTUFBTyxxQkFFVEMsU0FBVSxDQUNSQyxVQUFXLElBQ1hDLFFBQVMsSUFDVEMsU0FBVSxJQUNWQyxPQUFRLElBQ1JyQixHQUFJLElBQ0pzQixTQUFVLElBQ1ZDLFNBQVUsSUFDVkMsT0FBUSxJQUNSQyxJQUFLLElBQ0xDLFFBQVMsSUFDVEMsTUFBTyxJQUNQQyxRQUFTLEtBR1hDLFdBQVdDLE9BQVFDLE9BQVFDLFNBQVVDLE1BQU9DLFlBQzVCQyxLQUNSQyxJQUFNeEMsRUFBRXlDLFNBQVN2QyxhQUFhd0MsYUF2QmpDLFFBdUJzRCxLQUN6RHpDLFFBQVEwQyxVQUZNSixLQUVVQyxLQUFPTixPQUMvQkEsT0FBT1osVUFBWWEsT0FBT2IsV0FIWmlCLEtBRytCQyxJQUM3Q3ZDLFFBQVEyQyxVQUFVQyxVQUFVNUMsUUFBUTZDLFFBQVU3QyxRQUFROEMsV0F6QjlDLGtCQXlCb0Y1QyxJQUFNLFFBQ2xHK0IsT0FBT2MsYUFBYyxFQUNyQmQsT0FBT1YsU0FBV1csT0FBT1gsVUFBWSxLQUNyQ1UsT0FBT2UsS0FBTyxLQUNkZixPQUFPZCxNQUFRLEtBQ2ZjLE9BQU9nQixXQUFhLEtBRWhCZixPQUFPVixRQUNUVyxTQUFTZSxNQUFNaEIsT0FBUUQsUUFHekJBLE9BQU9rQixPQUFPLGdCQUFpQkgsT0FDekJBLGdCQUFnQlosT0FBU1ksT0FBU2YsT0FBT2QsTUFDM0NjLE9BQU9kLE1BQVE2QixLQUNOQSxnQkFBZ0JYLFlBQWNXLE9BQVNmLE9BQU9nQixhQUN2RGhCLE9BQU9nQixXQUFhRCxRQUl4QmYsT0FBT21CLFdBQWEsS0FDZG5CLE9BQU9jLGNBSVBkLE9BQU9kLFFBQ1RjLE9BQU9jLGFBQWMsRUFDckJkLE9BQU9kLE1BQU1rQyxHQUFHLFNBQVUsS0FDeEJDLFFBQVFDLElBQUksaUJBQWtCdEIsT0FBT2QsTUFBTXFDLFVBSTNDdkIsT0FBT2dCLGFBQ1RoQixPQUFPYyxhQUFjLEVBQ3JCTyxRQUFRQyxJQUFJLDJCQUloQnRCLE9BQU9rQixPQUFPLHlCQUEwQixDQUFDTSxPQUFRQyxVQUMxQ0QsU0FBVTFELEVBQUU0RCxRQUFRRixPQUFRQyxTQUlqQ3pCLE9BQU9tQixlQUVUbkIsT0FBT2tCLE9BQU8sOEJBQStCLENBQUNNLE9BQVFDLFVBQy9DRCxTQUFVMUQsRUFBRTRELFFBQVFGLE9BQVFDLFNBSWpDekIsT0FBT21CLGVBR0pwRCxRQUFRYyxZQUFZQyxJQUFJLGVBQzNCdUMsUUFBUUMsSUEvRVAsT0ErRWlCLGFBQWN0QixPQUFRQyxTQUk1QzBCLFlBQWE1RCxRQUFRNkMsUUFBVTdDLFFBQVE4QyxXQWxGN0Isa0JBa0ZtRTVDLElBQU0ifQ==