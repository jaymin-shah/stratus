!function(root,factory){"function"==typeof define&&define.amd?define(["stratus","lodash","angular","angular-material","stratus.services.registry","stratus.services.model","stratus.services.collection","stratus.components.pagination","stratus.components.search"],factory):factory(root.Stratus,root._,root.angular)}(this,(function(Stratus,_,angular){Stratus.Components.Selector={transclude:{image:"?stratusSelectorImage",label:"?stratusSelectorLabel",option:"?stratusSelectorOption",selected:"?stratusSelectorSelected"},bindings:{elementId:"@",ngModel:"=",type:"@",property:"@",multiple:"@",api:"@",limit:"@",options:"<"},controller:function($scope,$attrs,$log,Registry,Model,Collection){if(this.uid=_.uniqueId("selector_"),Stratus.Instances[this.uid]=$scope,$scope.elementId=$attrs.elementId||this.uid,$scope.api=!!_.isJSON($attrs.api)&&JSON.parse($attrs.api),$scope.property=$attrs.property||null,$scope.model=null,$scope.collection=null,$attrs.type){const request={target:$attrs.type,decouple:!0,api:{options:this.options?this.options:{},limit:_.isJSON($attrs.limit)?JSON.parse($attrs.limit):40}};$scope.api&&angular.isObject($scope.api)&&(request.api=_.extendDeep(request.api,$scope.api)),Registry.fetch(request,$scope)}$scope.toggleOptions={multiple:!_.isJSON($attrs.multiple)||JSON.parse($attrs.multiple)},$scope.$watch("$ctrl.ngModel",(function(data){data instanceof Model&&data!==$scope.model?$scope.model=data:data instanceof Collection&&data!==$scope.collection&&($scope.collection=data)}))},templateUrl:Stratus.BaseUrl+Stratus.BundlePath+"components/selector"+(Stratus.Environment.get("production")?".min":"")+".html"}}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjAiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJkZWZpbmUiLCJhbWQiLCJTdHJhdHVzIiwiXyIsImFuZ3VsYXIiLCJ0aGlzIiwiQ29tcG9uZW50cyIsIlNlbGVjdG9yIiwidHJhbnNjbHVkZSIsImltYWdlIiwibGFiZWwiLCJvcHRpb24iLCJzZWxlY3RlZCIsImJpbmRpbmdzIiwiZWxlbWVudElkIiwibmdNb2RlbCIsInR5cGUiLCJwcm9wZXJ0eSIsIm11bHRpcGxlIiwiYXBpIiwibGltaXQiLCJvcHRpb25zIiwiY29udHJvbGxlciIsIiRzY29wZSIsIiRhdHRycyIsIiRsb2ciLCJSZWdpc3RyeSIsIk1vZGVsIiwiQ29sbGVjdGlvbiIsInVpZCIsInVuaXF1ZUlkIiwiSW5zdGFuY2VzIiwiaXNKU09OIiwiSlNPTiIsInBhcnNlIiwibW9kZWwiLCJjb2xsZWN0aW9uIiwicmVxdWVzdCIsInRhcmdldCIsImRlY291cGxlIiwiaXNPYmplY3QiLCJleHRlbmREZWVwIiwiZmV0Y2giLCJ0b2dnbGVPcHRpb25zIiwiJHdhdGNoIiwiZGF0YSIsInRlbXBsYXRlVXJsIiwiQmFzZVVybCIsIkJ1bmRsZVBhdGgiLCJFbnZpcm9ubWVudCIsImdldCJdLCJtYXBwaW5ncyI6IkNBS0EsU0FBV0EsS0FBTUMsU0FDTyxtQkFBWEMsUUFBeUJBLE9BQU9DLElBQ3pDRCxPQUFPLENBQ1AsVUFBVyxTQUFVLFVBQ3JCLG1CQUNBLDRCQUE2Qix5QkFBMEIsOEJBQ3ZELGdDQUFpQyw2QkFBOEJELFNBRS9EQSxRQUFRRCxLQUFLSSxRQUFTSixLQUFLSyxFQUFHTCxLQUFLTSxTQVJ2QyxDQVVHQyxNQUFNLFNBQVVILFFBQVNDLEVBQUdDLFNBRzdCRixRQUFRSSxXQUFXQyxTQUFXLENBQzVCQyxXQUFZLENBQ1ZDLE1BQU8sd0JBQ1BDLE1BQU8sd0JBQ1BDLE9BQVEseUJBQ1JDLFNBQVUsNEJBRVpDLFNBQVUsQ0FDUkMsVUFBVyxJQUNYQyxRQUFTLElBQ1RDLEtBQU0sSUFDTkMsU0FBVSxJQUNWQyxTQUFVLElBQ1ZDLElBQUssSUFDTEMsTUFBTyxJQUNQQyxRQUFTLEtBRVhDLFdBQVksU0FBVUMsT0FBUUMsT0FBUUMsS0FBTUMsU0FBVUMsTUFBT0MsWUFZM0QsR0FWY3ZCLEtBQ1J3QixJQUFNMUIsRUFBRTJCLFNBQVMsYUFDdkI1QixRQUFRNkIsVUFGTTFCLEtBRVV3QixLQUFPTixPQUMvQkEsT0FBT1QsVUFBWVUsT0FBT1YsV0FIWlQsS0FHK0J3QixJQUU3Q04sT0FBT0osTUFBTWhCLEVBQUU2QixPQUFPUixPQUFPTCxNQUFPYyxLQUFLQyxNQUFNVixPQUFPTCxLQUN0REksT0FBT04sU0FBV08sT0FBT1AsVUFBWSxLQUNyQ00sT0FBT1ksTUFBUSxLQUNmWixPQUFPYSxXQUFhLEtBRWhCWixPQUFPUixLQUFNLENBQ2YsTUFBTXFCLFFBQVUsQ0FDZEMsT0FBUWQsT0FBT1IsS0FDZnVCLFVBQVUsRUFDVnBCLElBQUssQ0FDSEUsUUFBU2hCLEtBQUtnQixRQUFVaEIsS0FBS2dCLFFBQVUsR0FDdkNELE1BQU9qQixFQUFFNkIsT0FBT1IsT0FBT0osT0FBU2EsS0FBS0MsTUFBTVYsT0FBT0osT0FBUyxLQUkzREcsT0FBT0osS0FBT2YsUUFBUW9DLFNBQVNqQixPQUFPSixPQUN4Q2tCLFFBQVFsQixJQUFNaEIsRUFBRXNDLFdBQVdKLFFBQVFsQixJQUFLSSxPQUFPSixNQUdqRE8sU0FBU2dCLE1BQU1MLFFBQVNkLFFBSTFCQSxPQUFPb0IsY0FBZ0IsQ0FDckJ6QixVQUFVZixFQUFFNkIsT0FBT1IsT0FBT04sV0FBWWUsS0FBS0MsTUFBTVYsT0FBT04sV0FHMURLLE9BQU9xQixPQUFPLGlCQUFpQixTQUFVQyxNQUNuQ0EsZ0JBQWdCbEIsT0FBU2tCLE9BQVN0QixPQUFPWSxNQUMzQ1osT0FBT1ksTUFBUVUsS0FDTkEsZ0JBQWdCakIsWUFBY2lCLE9BQVN0QixPQUFPYSxhQUN2RGIsT0FBT2EsV0FBYVMsVUFJMUJDLFlBQWE1QyxRQUFRNkMsUUFBVTdDLFFBQVE4QyxXQUFhLHVCQUF5QjlDLFFBQVErQyxZQUFZQyxJQUFJLGNBQWdCLE9BQVMsSUFBTSJ9