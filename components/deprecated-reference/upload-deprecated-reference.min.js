!function(root,factory){"function"==typeof define&&define.amd?define(["stratus","lodash","jquery","dropzone","angular","angular-material"],factory):factory(root.Stratus,root._,root.jQuery,root.Dropzone)}(this,(function(Stratus,_,jQuery,Dropzone){Stratus.Components.Upload={transclude:!0,bindings:{elementId:"@",mediaId:"<"},controller:function($scope,$element,$attrs,$window){this.uid=_.uniqueId("upload_"),Stratus.Instances[this.uid]=$scope,$scope.elementId=$attrs.elementId||this.uid,$scope.mediaId=$attrs.mediaId||null,$scope.$watch("$ctrl.mediaId",(function(data){"number"==typeof data&&($scope.mediaId=data)})),$scope.dropzone=null,$scope.interval=$window.setInterval((function(){const $target=jQuery("#"+$scope.elementId);!$target.length||$scope.dropzone||$scope.mediaId&&"number"!=typeof $scope.mediaId||($scope.dropzone=new Dropzone($target[0],{url:"https://app002.sitetheory.io:3000/?session="+_.cookie("SITETHEORY")+($scope.mediaId?"&id="+$scope.mediaId:""),method:"POST",parallelUploads:$scope.mediaId?1:5,clickable:!0,maxFiles:$scope.mediaId?1:null}),$target.addClass("dropzone"),$window.clearInterval($scope.interval))}),500)},templateUrl:Stratus.BaseUrl+Stratus.BundlePath+"components/upload"+(Stratus.Environment.get("production")?".min":"")+".html"}}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjAiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJkZWZpbmUiLCJhbWQiLCJTdHJhdHVzIiwiXyIsImpRdWVyeSIsIkRyb3B6b25lIiwidGhpcyIsIkNvbXBvbmVudHMiLCJVcGxvYWQiLCJ0cmFuc2NsdWRlIiwiYmluZGluZ3MiLCJlbGVtZW50SWQiLCJtZWRpYUlkIiwiY29udHJvbGxlciIsIiRzY29wZSIsIiRlbGVtZW50IiwiJGF0dHJzIiwiJHdpbmRvdyIsInVpZCIsInVuaXF1ZUlkIiwiSW5zdGFuY2VzIiwiJHdhdGNoIiwiZGF0YSIsImRyb3B6b25lIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsIiR0YXJnZXQiLCJsZW5ndGgiLCJ1cmwiLCJjb29raWUiLCJtZXRob2QiLCJwYXJhbGxlbFVwbG9hZHMiLCJjbGlja2FibGUiLCJtYXhGaWxlcyIsImFkZENsYXNzIiwiY2xlYXJJbnRlcnZhbCIsInRlbXBsYXRlVXJsIiwiQmFzZVVybCIsIkJ1bmRsZVBhdGgiLCJFbnZpcm9ubWVudCIsImdldCJdLCJtYXBwaW5ncyI6IkNBS0EsU0FBV0EsS0FBTUMsU0FDTyxtQkFBWEMsUUFBeUJBLE9BQU9DLElBQ3pDRCxPQUFPLENBQ1AsVUFBVyxTQUFVLFNBQVUsV0FBWSxVQUMzQyxvQkFBcUJELFNBRXJCQSxRQUFRRCxLQUFLSSxRQUFTSixLQUFLSyxFQUFHTCxLQUFLTSxPQUFRTixLQUFLTyxVQU5wRCxDQVFHQyxNQUFNLFNBQVVKLFFBQVNDLEVBQUdDLE9BQVFDLFVBRXJDSCxRQUFRSyxXQUFXQyxPQUFTLENBQzFCQyxZQUFZLEVBQ1pDLFNBQVUsQ0FDUkMsVUFBVyxJQUNYQyxRQUFTLEtBRVhDLFdBQVksU0FBVUMsT0FBUUMsU0FBVUMsT0FBUUMsU0FFOUNYLEtBQUtZLElBQU1mLEVBQUVnQixTQUFTLFdBQ3RCakIsUUFBUWtCLFVBQVVkLEtBQUtZLEtBQU9KLE9BRTlCQSxPQUFPSCxVQUFZSyxPQUFPTCxXQUFhTCxLQUFLWSxJQUM1Q0osT0FBT0YsUUFBVUksT0FBT0osU0FBVyxLQUVuQ0UsT0FBT08sT0FBTyxpQkFBaUIsU0FBVUMsTUFDbkIsaUJBQVRBLE9BQ1RSLE9BQU9GLFFBQVVVLFNBSXJCUixPQUFPUyxTQUFXLEtBQ2xCVCxPQUFPVSxTQUFXUCxRQUFRUSxhQUFZLFdBQ3BDLE1BQU1DLFFBQVV0QixPQUFPLElBQU1VLE9BQU9ILFlBRWhDZSxRQUFRQyxRQUFXYixPQUFPUyxVQUFjVCxPQUFPRixTQUFxQyxpQkFBbkJFLE9BQU9GLFVBQzFFRSxPQUFPUyxTQUFXLElBQUlsQixTQUFTcUIsUUFBUSxHQUFJLENBQ3pDRSxJQUFLLDhDQUFnRHpCLEVBQUUwQixPQUFPLGVBQWlCZixPQUFPRixRQUFVLE9BQVNFLE9BQU9GLFFBQVUsSUFDMUhrQixPQUFRLE9BQ1JDLGdCQUFpQmpCLE9BQU9GLFFBQVUsRUFBSSxFQUN0Q29CLFdBQVcsRUFDWEMsU0FBVW5CLE9BQU9GLFFBQVUsRUFBSSxPQUVqQ2MsUUFBUVEsU0FBUyxZQUNqQmpCLFFBQVFrQixjQUFjckIsT0FBT1UsYUFFOUIsTUFFTFksWUFBYWxDLFFBQVFtQyxRQUFVbkMsUUFBUW9DLFdBQWEscUJBQXVCcEMsUUFBUXFDLFlBQVlDLElBQUksY0FBZ0IsT0FBUyxJQUFNIn0=