System.register(["@angular/core","@angular/material/dialog","@stratus/angular/tree/tree.component","@stratus/angular/tree/tree-dialog.component","lodash","stratus"],(function(e,t){"use strict";var n,o,a,r,l,i,d,s,c=this&&this.__decorate||function(e,t,n,o){var a,r=arguments.length,l=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(l=(r<3?a(l):r>3?a(t,n,l):a(t,n))||l);return r>3&&l&&Object.defineProperty(t,n,l),l},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};t&&t.id;return{setters:[function(e){n=e},function(e){o=e},function(e){a=e},function(e){r=e},function(e){l=e},function(e){i=e}],execute:function(){d="/assets/1/0/bundles/sitetheorystratus/stratus/src/angular","@stratus/angular","tree-node","tree",s=class{constructor(e,t){this.dialog=e,this.ref=t,this.title="tree-node_component",this.hasChild=e=>e.children&&e.children.length>0,this.isExpanded=e=>e.expanded}ngOnInit(){this.uid=l.uniqueId("sa_tree-node_component_"),i.Instances[this.uid]=this,this._=l,i.Internals.CssLoader(`${d}/tree/tree-node.component.css`)}getName(e){return e.model&&e.model.get&&e.model.get("name")?e.model.get("name"):"Untitled"}getDragPreview(e){return`name: ${this.getName(e)}<br>children: ${e.children?e.children.length:0}`}openDialog(e){if(!e.model||!l.has(e.model,"data"))return;this.dialog.open(r.TreeDialogComponent,{width:"250px",data:{id:e.model.data.id||null,name:e.model.data.name||"",target:e.model.data.url?"url":"content",content:e.model.data.content||null,url:e.model.data.url||null,model:e.model||null,collection:this.tree.collection||null,parent:e.model.data.parent||null,nestParent:e.model.data.nestParent||null}}).afterClosed().subscribe(t=>{t&&!l.isEmpty(t)&&(["name","content","url"].forEach(n=>{if(l.has(t,n))if("content"!==n)e.model.set(n,l.get(t,n));else{const o=l.get(t,n);e.model.set(n,o?{id:l.get(o,"id")}:null)}}),e.model.save())})}},c([n.Input(),u("design:type",a.TreeComponent)],s.prototype,"tree",void 0),c([n.Input(),u("design:type",Object)],s.prototype,"parent",void 0),c([n.Input(),u("design:type",Object)],s.prototype,"node",void 0),s=c([n.Component({selector:"sa-tree-node",templateUrl:`${d}/tree/tree-node.component.html`,changeDetection:n.ChangeDetectionStrategy.OnPush}),u("design:paramtypes",[o.MatDialog,n.ChangeDetectorRef])],s),e("TreeNodeComponent",s)}}}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjAiXSwibmFtZXMiOlsiU3lzdGVtIiwicmVnaXN0ZXIiLCJleHBvcnRzXzEiLCJjb250ZXh0XzEiLCJjb3JlXzEiLCJkaWFsb2dfMSIsInRyZWVfY29tcG9uZW50XzEiLCJ0cmVlX2RpYWxvZ19jb21wb25lbnRfMSIsIl8iLCJTdHJhdHVzIiwibG9jYWxEaXIiLCJUcmVlTm9kZUNvbXBvbmVudCIsIl9fZGVjb3JhdGUiLCJ0aGlzIiwiZGVjb3JhdG9ycyIsInRhcmdldCIsImtleSIsImRlc2MiLCJkIiwiYyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInIiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJSZWZsZWN0IiwiZGVjb3JhdGUiLCJpIiwiZGVmaW5lUHJvcGVydHkiLCJfX21ldGFkYXRhIiwiayIsInYiLCJtZXRhZGF0YSIsImlkIiwic2V0dGVycyIsImNvcmVfMV8xIiwiZGlhbG9nXzFfMSIsInRyZWVfY29tcG9uZW50XzFfMSIsInRyZWVfZGlhbG9nX2NvbXBvbmVudF8xXzEiLCJfMSIsIlN0cmF0dXNfMSIsImV4ZWN1dGUiLCJbb2JqZWN0IE9iamVjdF0iLCJkaWFsb2ciLCJyZWYiLCJ0aXRsZSIsIm1vZHVsZU5hbWUiLCJoYXNDaGlsZCIsIm5vZGUiLCJjaGlsZHJlbiIsImlzRXhwYW5kZWQiLCJleHBhbmRlZCIsInVpZCIsInVuaXF1ZUlkIiwiSW5zdGFuY2VzIiwiSW50ZXJuYWxzIiwiQ3NzTG9hZGVyIiwibW9kZWwiLCJnZXQiLCJnZXROYW1lIiwiaGFzIiwib3BlbiIsIlRyZWVEaWFsb2dDb21wb25lbnQiLCJ3aWR0aCIsImRhdGEiLCJuYW1lIiwidXJsIiwiY29udGVudCIsImNvbGxlY3Rpb24iLCJ0cmVlIiwicGFyZW50IiwibmVzdFBhcmVudCIsImFmdGVyQ2xvc2VkIiwic3Vic2NyaWJlIiwicmVzdWx0IiwiaXNFbXB0eSIsImZvckVhY2giLCJhdHRyIiwic2V0IiwidmFsdWUiLCJzYXZlIiwiSW5wdXQiLCJUcmVlQ29tcG9uZW50IiwicHJvdG90eXBlIiwiQ29tcG9uZW50Iiwic2VsZWN0b3IiLCJ0ZW1wbGF0ZVVybCIsImNoYW5nZURldGVjdGlvbiIsIkNoYW5nZURldGVjdGlvblN0cmF0ZWd5IiwiT25QdXNoIiwiTWF0RGlhbG9nIiwiQ2hhbmdlRGV0ZWN0b3JSZWYiXSwibWFwcGluZ3MiOiJBQUFBQSxPQUFPQyxTQUFTLENBQUMsZ0JBQWlCLDJCQUE0Qix1Q0FBd0MsOENBQStDLFNBQVUsWUFBWSxTQUFVQyxFQUFXQyxHQUM5TCxhQUVBLElBWUlDLEVBQVFDLEVBQVVDLEVBQWtCQyxFQUF5QkMsRUFBR0MsRUFBU0MsRUFBbURDLEVBWjVIQyxFQUFhQyxNQUFRQSxLQUFLRCxZQUFjLFNBQVVFLEVBQVlDLEVBQVFDLEVBQUtDLEdBQzdFLElBRUlDLEVBRkFDLEVBQUlDLFVBQVVDLE9BQ2RDLEVBQUlILEVBQUksRUFBSUosRUFBa0IsT0FBVEUsRUFBZ0JBLEVBQU9NLE9BQU9DLHlCQUF5QlQsRUFBUUMsR0FBT0MsRUFFL0YsR0FBdUIsaUJBQVpRLFNBQW9ELG1CQUFyQkEsUUFBUUMsU0FBeUJKLEVBQUlHLFFBQVFDLFNBQVNaLEVBQVlDLEVBQVFDLEVBQUtDLFFBQVcsSUFBSyxJQUFJVSxFQUFJYixFQUFXTyxPQUFTLEVBQUdNLEdBQUssRUFBR0EsS0FBU1QsRUFBSUosRUFBV2EsTUFBSUwsR0FBS0gsRUFBSSxFQUFJRCxFQUFFSSxHQUFLSCxFQUFJLEVBQUlELEVBQUVILEVBQVFDLEVBQUtNLEdBQUtKLEVBQUVILEVBQVFDLEtBQVNNLEdBQy9RLE9BQU9ILEVBQUksR0FBS0csR0FBS0MsT0FBT0ssZUFBZWIsRUFBUUMsRUFBS00sR0FBSUEsR0FHMURPLEVBQWFoQixNQUFRQSxLQUFLZ0IsWUFBYyxTQUFVQyxFQUFHQyxHQUN2RCxHQUF1QixpQkFBWk4sU0FBb0QsbUJBQXJCQSxRQUFRTyxTQUF5QixPQUFPUCxRQUFRTyxTQUFTRixFQUFHQyxJQUtyRjVCLEdBQWFBLEVBQVU4QixHQUUxQyxNQUFPLENBQ0xDLFFB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