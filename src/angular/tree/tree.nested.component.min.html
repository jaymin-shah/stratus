<div class="tree"><cdk-tree cdkdroplist [id]="uid + '_parent_drop_list'" [datasource]="dataSub | async" [treecontrol]="treeControl" [cdkdroplistdata]="node" [cdkdroplistdisabled]="false" (cdkdroplistdropped)="onDragDrop($event)" class="tree-node-drop-list"><cdk-nested-tree-node cdkdrag [id]="uid + '_node_' + node.model.data.id" *cdktreenodedef="let node" [cdkdragdata]="node" (mouseenter)="onDragHover(node)" (mouseleave)="onDragHoverEnd()" (cdkdragstarted)="onDragStart()" (cdkdragreleased)="onDragEnd()" class="tree-node"><button mat-icon-button disabled="disabled"></button> <span cdkdraghandle [textcontent]="node.model.data.name" (click)="openDialog(node.model)"></span><div *cdkdragpreview [textcontent]="node.model.data.name" class="tree-node-drag-preview"></div><div cdkdroplist [id]="uid + '_node_' + node.model.data.id + '_drop_list'" [cdkdroplistdata]="node" [cdkdroplistdisabled]="false" (cdkdroplistdropped)="onDragDrop($event)" class="tree-node-drop-list"></div></cdk-nested-tree-node><cdk-nested-tree-node cdkdrag [id]="uid + '_node_' + node.model.data.id" *cdktreenodedef="let node; when: hasChild" [cdkdragdata]="node" (mouseenter)="onDragHover(node)" (mouseleave)="onDragHoverEnd()" (cdkdragstarted)="onDragStart()" (cdkdragreleased)="onDragEnd()" class="tree-node"><button cdktreenodetoggle mat-icon-button [attr.aria-label]="'toggle ' + node.model.data.name"><mat-icon class="mat-icon-rtl-mirror">{{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}</mat-icon></button> <span cdkdraghandle [textcontent]="node.model.data.name" (click)="openDialog(node.model)"></span><div *cdkdragpreview [textcontent]="node.model.data.name" class="tree-node-drag-preview"></div><div [class.tree-invisible]="!treeControl.isExpanded(node)"><ng-container cdktreenodeoutlet></ng-container></div></cdk-nested-tree-node></cdk-tree></div>