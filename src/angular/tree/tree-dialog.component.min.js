System.register(["@angular/core","@angular/forms","@angular/material/dialog","rxjs/operators","lodash","stratus","@stratus/angular/backend.service"],(function(t,e){"use strict";var n,i,o,s,a,r,c,l,u,d=this&&this.__decorate||function(t,e,n,i){var o,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(a=(s<3?o(a):s>3?o(e,n,a):o(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a},f=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};e&&e.id;return{setters:[function(t){n=t},function(t){i=t},function(t){o=t},function(t){s=t},function(t){a=t},function(t){r=t},function(t){c=t}],execute:function(){l="/assets/1/0/bundles/sitetheorystratus/stratus/src/angular","@stratus/angular","tree-dialog","tree",u=class{constructor(t,e,n,i){this.dialogRef=t,this.data=e,this.fb=n,this.backend=i,this.title="tree-dialog_component",this.isContentLoading=!1}ngOnInit(){this.uid=a.uniqueId("sa_tree-dialog_component_"),r.Instances[this.uid]=this,this._=a,r.Internals.CssLoader(`${l}/tree/tree-dialog.component.css`),this.dialogContentForm=this.fb.group({contentSelectorInput:this.data.content}),this.dialogContentForm.get("contentSelectorInput").valueChanges.pipe(s.debounceTime(300),s.tap(()=>this.isContentLoading=!0),s.switchMap(t=>(a.isString(t)?this.lastContentSelectorQuery=`/Api/Content?q=${t}`:(this.data.content=t,this.data.url=null),this.backend.get(this.lastContentSelectorQuery).pipe(s.finalize(()=>this.isContentLoading=!1))))).subscribe(t=>{if(!t.ok||200!==t.status||a.isEmpty(t.body))return this.filteredContentOptions=[];const e=a.get(t.body,"payload")||t.body;return a.isEmpty(e)||!Array.isArray(e)?this.filteredContentOptions=[]:this.filteredContentOptions=e})}onCancelClick(){this.dialogRef.close()}displayVersionTitle(t){if(t)return a.get(t,"version.title")}},u=d([n.Component({selector:"sa-tree-dialog",templateUrl:`${l}/tree/tree-dialog.component.html`,changeDetection:n.ChangeDetectionStrategy.OnPush}),h(1,n.Inject(o.MAT_DIALOG_DATA)),f("design:paramtypes",[o.MatDialogRef,Object,i.FormBuilder,c.BackendService])],u),t("TreeDialogComponent",u)}}}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjAiXSwibmFtZXMiOlsiU3lzdGVtIiwicmVnaXN0ZXIiLCJleHBvcnRzXzEiLCJjb250ZXh0XzEiLCJjb3JlXzEiLCJmb3Jtc18xIiwiZGlhbG9nXzEiLCJvcGVyYXRvcnNfMSIsIl8iLCJTdHJhdHVzIiwiYmFja2VuZF9zZXJ2aWNlXzEiLCJsb2NhbERpciIsIlRyZWVEaWFsb2dDb21wb25lbnQiLCJfX2RlY29yYXRlIiwidGhpcyIsImRlY29yYXRvcnMiLCJ0YXJnZXQiLCJrZXkiLCJkZXNjIiwiZCIsImMiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJyIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiUmVmbGVjdCIsImRlY29yYXRlIiwiaSIsImRlZmluZVByb3BlcnR5IiwiX19tZXRhZGF0YSIsImsiLCJ2IiwibWV0YWRhdGEiLCJfX3BhcmFtIiwicGFyYW1JbmRleCIsImRlY29yYXRvciIsImlkIiwic2V0dGVycyIsImNvcmVfMV8xIiwiZm9ybXNfMV8xIiwiZGlhbG9nXzFfMSIsIm9wZXJhdG9yc18xXzEiLCJfMSIsIlN0cmF0dXNfMSIsImJhY2tlbmRfc2VydmljZV8xXzEiLCJleGVjdXRlIiwiW29iamVjdCBPYmplY3RdIiwiZGlhbG9nUmVmIiwiZGF0YSIsImZiIiwiYmFja2VuZCIsInRpdGxlIiwibW9kdWxlTmFtZSIsImlzQ29udGVudExvYWRpbmciLCJ1aWQiLCJ1bmlxdWVJZCIsIkluc3RhbmNlcyIsIkludGVybmFscyIsIkNzc0xvYWRlciIsImRpYWxvZ0NvbnRlbnRGb3JtIiwiZ3JvdXAiLCJjb250ZW50U2VsZWN0b3JJbnB1dCIsImNvbnRlbnQiLCJnZXQiLCJ2YWx1ZUNoYW5nZXMiLCJwaXBlIiwiZGVib3VuY2VUaW1lIiwidGFwIiwic3dpdGNoTWFwIiwidmFsdWUiLCJpc1N0cmluZyIsImxhc3RDb250ZW50U2VsZWN0b3JRdWVyeSIsInVybCIsImZpbmFsaXplIiwic3Vic2NyaWJlIiwicmVzcG9uc2UiLCJvayIsInN0YXR1cyIsImlzRW1wdHkiLCJib2R5IiwiZmlsdGVyZWRDb250ZW50T3B0aW9ucyIsInBheWxvYWQiLCJBcnJheSIsImlzQXJyYXkiLCJjbG9zZSIsIm9wdGlvbiIsIkNvbXBvbmVudCIsInNlbGVjdG9yIiwidGVtcGxhdGVVcmwiLCJjaGFuZ2VEZXRlY3Rpb24iLCJDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSIsIk9uUHVzaCIsIkluamVjdCIsIk1BVF9ESUFMT0dfREFUQSIsIk1hdERpYWxvZ1JlZiIsIkZvcm1CdWlsZGVyIiwiQmFja2VuZFNlcnZpY2UiXSwibWFwcGluZ3MiOiJBQUFBQSxPQUFPQyxTQUFTLENBQUMsZ0JBQWlCLGlCQUFrQiwyQkFBNEIsaUJBQWtCLFNBQVUsVUFBVyxxQ0FBcUMsU0FBVUMsRUFBV0MsR0FDL0ssYUFFQSxJQWtCSUMsRUFBUUMsRUFBU0MsRUFBVUMsRUFBYUMsRUFBR0MsRUFBU0MsRUFBbUJDLEVBQW1EQyxFQWxCMUhDLEVBQWFDLE1BQVFBLEtBQUtELFlBQWMsU0FBVUUsRUFBWUMsRUFBUUMsRUFBS0MsR0FDN0UsSUFFSUMsRUFGQUMsRUFBSUMsVUFBVUMsT0FDZEMsRUFBSUgsRUFBSSxFQUFJSixFQUFrQixPQUFURSxFQUFnQkEsRUFBT00sT0FBT0MseUJBQXlCVCxFQUFRQyxHQUFPQyxFQUUvRixHQUF1QixpQkFBWlEsU0FBb0QsbUJBQXJCQSxRQUFRQyxTQUF5QkosRUFBSUcsUUFBUUMsU0FBU1osRUFBWUMsRUFBUUMsRUFBS0MsUUFBVyxJQUFLLElBQUlVLEVBQUliLEVBQVdPLE9BQVMsRUFBR00sR0FBSyxFQUFHQSxLQUFTVCxFQUFJSixFQUFXYSxNQUFJTCxHQUFLSCxFQUFJLEVBQUlELEVBQUVJLEdBQUtILEVBQUksRUFBSUQsRUFBRUgsRUFBUUMsRUFBS00sR0FBS0osRUFBRUgsRUFBUUMsS0FBU00sR0FDL1EsT0FBT0gsRUFBSSxHQUFLRyxHQUFLQyxPQUFPSyxlQUFlYixFQUFRQyxFQUFLTSxHQUFJQSxHQUcxRE8sRUFBYWhCLE1BQVFBLEtBQUtn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